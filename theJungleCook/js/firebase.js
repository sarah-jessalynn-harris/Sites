
//callback functions for getting recipes from database
function processRecipes(recipes) {

    for (let product in recipes) {
        recipes[product]["id"] = product;
    }

    let recipies = Object.values(recipes);

    let items = [];

    $.each(recipies, function(idx, value) {
          
        items.push(    
            
            `<div class='yourRecipeBox'> 
                
                <div class='yourRecipeImg'> 

                    <button class='viewYourRecipe' onclick='view("${value.id}")'> View </button>

                    <img src='${value.image}' alt='${value.name}'> 

                    <div class='buttonHolder'> 
                    
                        <button class='editRecipe' onclick='editRecipe("${value.id}")'>Edit Recipe</button> 
                        
                        <button class='deleteRecipe' onclick='deleteRecipe("${value.id}")'>Delete</button> 
                    
                    </div>
                
                </div> 
                
                <div class='yourRecipeInfo'> 
                
                    <h1 id='recipeTitle'> ${value.name} </h1> 
                
                    <p id='yourRecipePreview'>${value.description}</p> 
                
                    <div class='yourRecipeQuickView'> 
                    
                        <div class='time'> 

                            <?xml version='1.0' encoding='iso-8859-1'?> <!-- Generator: Adobe Illustrator 19.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0) --> <svg version='1.1' id='Capa_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 60 60' style='enable-background:new 0 0 60 60;' xml:space='preserve'> <g> <path d='M31.634,37.989c1.041-0.081,1.99-0.612,2.606-1.459l9.363-12.944c0.287-0.397,0.244-0.945-0.104-1.293 c-0.348-0.347-0.896-0.39-1.293-0.104L29.26,31.555c-0.844,0.614-1.375,1.563-1.456,2.604s0.296,2.06,1.033,2.797 C29.508,37.628,30.413,38,31.354,38C31.447,38,31.54,37.996,31.634,37.989z M29.798,34.315c0.035-0.457,0.269-0.874,0.637-1.142 l7.897-5.713l-5.711,7.895c-0.27,0.371-0.687,0.604-1.144,0.64c-0.455,0.03-0.902-0.128-1.227-0.453 C29.928,35.219,29.762,34.771,29.798,34.315z'/> <path d='M54.034,19.564c-0.01-0.021-0.01-0.043-0.021-0.064c-0.012-0.02-0.031-0.031-0.044-0.05 c-1.011-1.734-2.207-3.347-3.565-4.809l2.148-2.147l1.414,1.414l4.242-4.243l-4.242-4.242l-4.243,4.242l1.415,1.415l-2.148,2.147 c-1.462-1.358-3.074-2.555-4.809-3.566c-0.019-0.013-0.03-0.032-0.05-0.044c-0.021-0.012-0.043-0.011-0.064-0.022 c-3.093-1.782-6.568-2.969-10.273-3.404V5h1.5c1.379,0,2.5-1.121,2.5-2.5S36.672,0,35.293,0h-9c-1.379,0-2.5,1.121-2.5,2.5 s1.121,2.5,2.5,2.5h1.5v1.156c-1.08,0.115-2.158,0.291-3.224,0.535c-0.538,0.123-0.875,0.66-0.751,1.198 c0.123,0.538,0.66,0.876,1.198,0.751c0.92-0.211,1.849-0.37,2.78-0.477l1.073-0.083c0.328-0.025,0.63-0.043,0.924-0.057V10 c0,0.553,0.447,1,1,1s1-0.447,1-1V8.03c3.761,0.173,7.305,1.183,10.456,2.845l-0.986,1.707c-0.276,0.479-0.112,1.09,0.366,1.366 c0.157,0.091,0.329,0.134,0.499,0.134c0.346,0,0.682-0.179,0.867-0.5l0.983-1.703c3.129,1.985,5.787,4.643,7.772,7.772 l-1.703,0.983C49.57,20.91,49.406,21.521,49.683,22c0.186,0.321,0.521,0.5,0.867,0.5c0.17,0,0.342-0.043,0.499-0.134l1.707-0.986 c1.685,3.196,2.698,6.798,2.849,10.619H53.63c-0.553,0-1,0.447-1,1s0.447,1,1,1h1.975c-0.151,3.821-1.164,7.423-2.849,10.619 l-1.707-0.986c-0.478-0.276-1.09-0.114-1.366,0.366c-0.276,0.479-0.112,1.09,0.366,1.366l1.703,0.983 c-1.985,3.129-4.643,5.787-7.772,7.772l-0.983-1.703c-0.277-0.48-0.89-0.643-1.366-0.366c-0.479,0.276-0.643,0.888-0.366,1.366 l0.986,1.707c-3.151,1.662-6.695,2.672-10.456,2.845V56c0-0.553-0.447-1-1-1s-1,0.447-1,1v1.976 c-1.597-0.055-3.199-0.255-4.776-0.617c-0.538-0.129-1.075,0.213-1.198,0.751c-0.124,0.538,0.213,1.075,0.751,1.198 C26.568,59.768,28.607,60,30.63,60c0.049,0,0.096-0.003,0.145-0.004c0.007,0,0.012,0.004,0.018,0.004 c0.008,0,0.015-0.005,0.023-0.005c4.807-0.033,9.317-1.331,13.219-3.573c0.031-0.014,0.064-0.021,0.094-0.039 c0.02-0.012,0.031-0.031,0.05-0.044c4.039-2.354,7.414-5.725,9.773-9.761c0.019-0.027,0.043-0.048,0.06-0.078 c0.012-0.021,0.011-0.043,0.021-0.064C56.317,42.476,57.63,37.89,57.63,33S56.317,23.524,54.034,19.564z M53.965,8.251l1.414,1.414 l-1.414,1.415L52.55,9.665L53.965,8.251z M29.793,6.021V3h-3.5c-0.275,0-0.5-0.225-0.5-0.5s0.225-0.5,0.5-0.5h9 c0.275,0,0.5,0.225,0.5,0.5S35.568,3,35.293,3h-3.5v3.021C31.445,6.007,31.113,6,30.793,6c-0.028,0-0.06,0.002-0.088,0.002 C30.68,6.002,30.655,6,30.63,6c-0.164,0-0.328,0.011-0.492,0.014C30.022,6.017,29.913,6.016,29.793,6.021z'/> <path d='M21.793,14h-5c-0.553,0-1,0.447-1,1s0.447,1,1,1h5c0.553,0,1-0.447,1-1S22.346,14,21.793,14z'/> <path d='M21.793,21h-10c-0.553,0-1,0.447-1,1s0.447,1,1,1h10c0.553,0,1-0.447,1-1S22.346,21,21.793,21z'/> <path d='M21.793,28h-15c-0.553,0-1,0.447-1,1s0.447,1,1,1h15c0.553,0,1-0.447,1-1S22.346,28,21.793,28z'/> <path d='M21.793,35h-19c-0.553,0-1,0.447-1,1s0.447,1,1,1h19c0.553,0,1-0.447,1-1S22.346,35,21.793,35z'/> <path d='M21.793,42h-13c-0.553,0-1,0.447-1,1s0.447,1,1,1h13c0.553,0,1-0.447,1-1S22.346,42,21.793,42z'/> <path d='M21.793,49h-7c-0.553,0-1,0.447-1,1s0.447,1,1,1h7c0.553,0,1-0.447,1-1S22.346,49,21.793,49z'/> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> </svg> 
                        
                            <p id='recipePrepTime'>${value.time}</p> 
                        
                        </div> 
                        
                        <div class='serving'> 
                        
                            <svg viewBox='0 -21 512 512' xmlns='http://www.w3.org/2000/svg'><path d='m490.152344 240.304688h-17.773438c-1.664062-27.023438-8.246094-53.105469-19.636718-77.625-1.738282-3.753907-6.191407-5.378907-9.945313-3.640626-3.753906 1.742188-5.382813 6.195313-3.640625 9.949219 10.464844 22.535157 16.570312 46.492188 18.210938 71.316407h-343.070313c-4.136719 0-7.488281 3.351562-7.488281 7.488281s3.351562 7.488281 7.488281 7.488281h375.855469c3.789062 0 6.867187 3.082031 6.867187 6.871094v9.140625c0 3.789062-3.078125 6.871093-6.867187 6.871093h-468.304688c-3.789062 0-6.867187-3.082031-6.867187-6.871093v-9.140625c0-3.789063 3.078125-6.871094 6.867187-6.871094h57.539063c4.136719 0 7.492187-3.351562 7.492187-7.488281s-3.355468-7.488281-7.492187-7.488281h-24.753907c3.300782-49.753907 24.636719-96.039063 60.597657-131.046876 34.65625-33.734374 79.4375-53.59375 127.296875-56.742187.027344 0 .054687.003906.082031 0 2.039063-.132813 4.054687-.234375 6.046875-.308594.398438-.011719.792969-.03125 1.191406-.042969.710938-.023437 1.417969-.039062 2.117188-.054687 1.34375-.023437 2.6875-.046875 4.035156-.046875 1.789062 0 3.578125.035156 5.363281.082031.527344.015625 1.050781.03125 1.582031.046875 1.375.046875 2.746094.117188 4.117188.191406.726562.039063 1.453125.078126 2.183594.125 61.488281 4.039063 118.058594 36.015626 153.261718 87.289063 2.339844 3.40625 7.003907 4.277344 10.414063 1.933594 3.410156-2.339844 4.277344-7.003907 1.933594-10.414063-34.640625-50.457031-88.558594-83.503906-148.152344-92.027344 3.734375-5.796874 5.832031-12.621093 5.832031-19.769531 0-4.070312-1.816406-11.574219-13.980468-16.050781-6.074219-2.234375-14.085938-3.46875-22.554688-3.46875-8.472656 0-16.484375 1.234375-22.558594 3.46875-12.164062 4.476562-13.976562 11.980469-13.976562 16.050781 0 7.128907 2.089844 13.941407 5.800781 19.726563-45.246094 6.402344-87.210937 26.886718-120.484375 59.277344-38.871094 37.839843-61.835938 87.949218-65.160156 141.777343h-17.773438c-12.046875.003907-21.847656 9.804688-21.847656 21.851563v9.140625c0 12.050781 9.800781 21.851562 21.847656 21.851562h80.683594c-4.027344 2.757813-7.886719 5.851563-11.5 9.285157l-.148438.140624c-.230468.214844-.449218.445313-.648437.691407l-35.558594 43.179687c-4.460937-2.832031-9.742187-3.863281-14.953125-2.863281-5.433594 1.039063-10.132812 4.132813-13.234375 8.710937l-13.984375 20.621094c-6.394531 9.433594-3.925781 22.320313 5.5 28.722656l95.691406 65.007813c3.46875 2.355469 7.476563 3.582031 11.582032 3.582031 1.304687 0 2.621094-.125 3.933594-.375 5.429687-1.039062 10.128906-4.132812 13.230468-8.710937l13.984375-20.621094c6.394531-9.433594 3.929688-22.320313-5.496093-28.722656l-.546876-.371094c6.660157-7.558594 15.539063-12.976563 25.199219-15.210937 20.355469-4.714844 44.308594-1.679688 60.554688 1.011718 20.097656 3.328125 41.207031 2.191406 61.046875-3.289062l27.578125-7.621094c18.371093-5.078125 35.277343-13.628906 50.253906-25.417969.113281-.089843.222656-.179687.332031-.277343l47.347656-41.933594c8.070313-6.175782 9.828126-16.871094 7.042969-25.539063h60.414063c12.046875 0 21.847656-9.800781 21.847656-21.847656v-9.144531c0-12.046875-9.800781-21.847656-21.847656-21.847656zm-234.152344-225.324219c12.613281 0 20.171875 3.121093 21.554688 4.855469-.101563 7.105468-3.695313 13.660156-9.542969 17.589843-1.472657-.078125-2.925781-.140625-4.375-.195312-.488281-.015625-.976563-.039063-1.464844-.050781-2.089844-.0625-4.152344-.09375-6.171875-.09375-1.433594 0-2.894531.019531-4.367188.050781-.710937.011719-1.425781.03125-2.140624.054687-.851563.027344-1.710938.054688-2.570313.089844-.980469.042969-1.960937.085938-2.9375.140625-5.847656-3.929687-9.4375-10.484375-9.539063-17.585937 1.382813-1.734376 8.941407-4.855469 21.554688-4.855469zm53.710938 281.777343c-.558594-1.265624-1.226563-2.46875-1.980469-3.613281h71.839843l-31.0625 20.558594-44.277343 12.808594-1.503907.035156c8.523438-7.105469 11.632813-19.238281 6.984376-29.789063zm-81.21875-3.613281-10.808594 2.253907-8.355469-2.253907zm-84.464844 138.964844-13.980469 20.621094c-.855469 1.265625-2.152344 2.117187-3.652344 2.40625-1.496093.285156-3.019531-.027344-4.28125-.886719l-95.691406-65.007812c-2.601563-1.765626-3.28125-5.320313-1.515625-7.921876l13.984375-20.625c.855469-1.261718 2.148437-2.117187 3.648437-2.402343.363282-.070313.726563-.105469 1.085938-.105469 1.132812 0 2.238281.339844 3.195312.992188l5.167969 3.507812c0 .003906.003907.003906.003907.003906l90.519531 61.492188c2.601562 1.765625 3.28125 5.324218 1.515625 7.925781zm269.476562-125.253906c-.179687.128906-.351562.269531-.519531.417969l-47.398437 41.984374c-13.363282 10.480469-28.441407 18.089844-44.8125 22.613282l-27.578126 7.621094c-17.757812 4.910156-36.640624 5.929687-54.605468 2.953124-17.507813-2.898437-43.429688-6.144531-66.386719-.828124-13.296875 3.078124-25.4375 10.71875-34.269531 21.34375l-70.792969-48.089844 34.359375-41.726563c12.996094-12.269531 29.476562-19.554687 45.257812-20h.304688c4.894531-.082031 10.074219 1.359375 15.554688 2.894531 1.101562.304688 2.199218.613282 3.300781.910157l49.59375 13.378906c1.136719.304687 2.328125.339844 3.480469.097656l64.953124-13.542969c2.945313-.609374 6.039063-.011718 8.488282 1.648438 1.582031 1.074219 2.816406 2.550781 3.570312 4.265625 2.226563 5.050781.128906 10.980469-4.847656 13.542969l-22.160156 11.734375c-3.066406 1.625-4.613282 5.140625-3.742188 8.5.875 3.363281 3.933594 5.652343 7.410156 5.605469l32.871094-.710938c.652344-.015625 1.296875-.113281 1.917969-.292969l46.316406-13.398437c.730469-.210938 1.421875-.53125 2.054688-.949219l46.726562-30.929687c3.921875-2.421876 9.140625-4.414063 11.917969-.316407 2.164062 3.1875 2.214844 8.925781-.964844 11.273438zm0 0'/></svg> 
                    
                            <p id='recipeServings'> ${value.servings} servings</p> 
                    
                        </div>
                    </div>
                </div>
            </div>
            `
            
        );
         
    });

    for(i = 0; i < items.length; i++) {
       
        $('#yourRecipesList').append(items[i]);
    }

}

function processRecipe(recipe, id) {

    var sectionData = `
    <div class='viewRecipe'>
        <div class='intro'>
            <div class='imagery'>
                <div class='title'>
                    <h3> ${recipe.name} </h3>
                </div>
                <img id='recipeImg' src='${recipe.image}' alt='${recipe.name}'>
            </div>
            <div class='information'>
                <h3> Description: </h3>
                <p id='recipeDescription'> ${recipe.description} </p>
                <h4> Total Time:</h4>
                <p id='recipeTime'> ${recipe.time} </p>
                <h4> Servings:</h4>
                <p id='recipeServings'> ${recipe.servings} </p>
            </div>
        </div>
        <div class='ingredientsList'>
            <h3> Ingredients: </h3>
            <ul id="ingredientsListed"></ul>
        </div>
        <div class='instructionsList'>
            <h3> Instructions: </h3>
            <ol id="instructionsListed"></ol>
        </div>
        <button class='editRecipe' onclick='editRecipe("${id}")'> Edit Recipe </button>
    </div>`;

    $(document.body).removeClass().addClass('otherBackground');

    $('.content').html(sectionData);

    $.each(recipe.ingredients, function(idx, value) {

        let ingredients = `<li> ${value} </li>`;

        $('#ingredientsListed').append(ingredients);               
    });

    $.each(recipe.instructions, function(idx, value) {

        let instructions = `<li> ${value} </li>`;

        $('#instructionsListed').append(instructions);               
    });
}
